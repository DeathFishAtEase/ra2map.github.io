import{d as v,z as x,C,f as k,au as N,s as V,M as U,o as n,c as i,a as o,t as h,h as t,b as y,e as c,j as z,F as P,r as j,k as m,w as f,n as b,y as F,i as A,a7 as W,u as q,av as H,D as Y,am as E,aw as I,l as S,g as $,ao as O,al as Q}from"./app-DgD459NU.js";import{_ as G,a as J}from"./YunPostCategories.vue_vue_type_script_setup_true_lang-roI0O_ga.js";import{_ as K}from"./YunPostMeta.vue_vue_type_style_index_0_lang-CUP4BrpA.js";const X={class:"post-copyright"},Z={class:"post-copyright-title"},ee={key:0},te=o("strong",null,"作者：",-1),ne={key:1},oe=o("strong",null,"发布于：",-1),se={key:2},ae=o("strong",null,"更新于：",-1),re=o("strong",null,"许可协议：",-1),ie=v({__name:"ValaxyCopyright",setup(g){const{locale:s}=x(),e=C(),a=e.value.license.type==="zero"?"1.0":"4.0",u=e.value.license.type==="zero"?"publicdomain":"licenses",p=`<a href="${k(()=>{const l=e.value.license.language?e.value.license.language:s.value==="zh-CN"?"zh":"en";return`https://creativecommons.org/${u}/${e.value.license.type}/${a}/deed.${l}`}).value}" target="_blank" rel="noopener" title="CC ${`${e.value.license.type.toUpperCase()} ${a}`} ">CC ${e.value.license.type.toUpperCase()}</a>`,r=N(),_=V();return U(()=>{const l=window.location;_.value.href=l.href.replace(l.hash,""),_.value.innerText=l.href.replace(l.hash,"")}),(l,w)=>(n(),i("ul",X,[o("li",Z,h(t(r).title),1),o("li",null,[o("a",{ref_key:"link",ref:_,href:"",target:"_blank"},null,512)]),o("li",null,[t(r).frontmatter.author?(n(),i("span",ee,[te,y(h(t(r).frontmatter.author)+"  ",1)])):c("v-if",!0),t(r).frontmatter.date?(n(),i("span",ne,[oe,y(h(t(r).frontmatter.date.slice(0,10))+"  ",1)])):c("v-if",!0),t(r).frontmatter.updated&&t(r).frontmatter.updated!=t(r).frontmatter.date?(n(),i("span",se,[ae,y(h(t(r).frontmatter.updated.slice(0,10))+"  ",1)])):c("v-if",!0),re,y("若无特别说明，均为 "),o("span",{innerHTML:p})])]))}}),le={class:"yun-sponsor-container flex-center flex-col"},ce=["title"],ue=o("div",{"i-ri-heart-line":""},null,-1),_e=[ue],de={key:0,class:"sponsor-description",mb:"4",text:"sm"},pe={class:"flex justify-around"},me=["src"],fe=v({__name:"YunSponsor",setup(g){const{t:s}=x(),e=C(),a=V(!1),u=k(()=>{var d;return((d=e.value.sponsor)==null?void 0:d.title)??s("reward.donate")});return(d,p)=>{const r=z("RouterLink");return n(),i("div",le,[o("button",{class:"sponsor-button yun-icon-btn shadow hover:shadow-md",title:u.value,text:"red-400",onClick:p[0]||(p[0]=_=>a.value=!a.value)},_e,8,ce),o("div",{class:b(["qrcode-container qrcode flex-center flex-col",a.value&&"show"]),m:"y-4"},[t(e).sponsor.description?(n(),i("div",de,h(t(e).sponsor.description),1)):c("v-if",!0),o("div",pe,[(n(!0),i(P,null,j(t(e).sponsor.methods,(_,l)=>(n(),m(r,{key:l,class:"flex-center flex-col animate-iteration-1 animate-fade-in",to:_.name,style:F(`color:${_.color}`)},{default:f(()=>[o("img",{class:"sponsor-method-img",border:"~ rounded",p:"1",loading:"lazy",src:_.url},null,8,me),o("div",{text:"xl",m:"2",class:b(_.icon)},null,2)]),_:2},1032,["to","style"]))),128))])],2)])}}}),he={class:"inline-flex",text:"sm",py:"1"},ve={key:1,mx:"2"},ge=v({__name:"YunPostCategoriesAndTags",props:{frontmatter:{}},setup(g){return(s,e)=>{const a=G,u=J;return n(),i("div",he,[s.frontmatter.categories?(n(),m(a,{key:0,categories:s.frontmatter.categories},null,8,["categories"])):c("v-if",!0),s.frontmatter.categories&&s.frontmatter.tags?(n(),i("span",ve)):c("v-if",!0),s.frontmatter.tags?(n(),m(u,{key:2,tags:s.frontmatter.tags},null,8,["tags"])):c("v-if",!0)])}}}),ye={key:0,flex:"~",text:"sm",my:"1",h:"5"},$e=["title"],ke=o("div",{"inline-flex":"","i-ri-eye-line":""},null,-1),xe=["data-path"],Ce=["title"],we=o("div",{"inline-flex":"","i-ri-chat-4-line":""},null,-1),be=["data-path"],Ye=v({__name:"YunWalineMeta",setup(g){const s=A(),e=W(),a=k(()=>e.value.addons["valaxy-addon-waline"]),{t:u}=x();return(d,p)=>a.value&&a.value.options?(n(),i("div",ye,[a.value.options.pageview?(n(),i("div",{key:0,"inline-flex":"",justify:"center",items:"center",mx:"2",title:t(u)("post.pageview_count")},[ke,o("span",{"ml-1":"","inline-flex":"",class:"waline-pageview-count","data-path":t(s).path},null,8,xe)],8,$e)):c("v-if",!0),a.value.options.comment?(n(),i("div",{key:1,"inline-flex":"",justify:"center",items:"center",mx:"2",title:t(u)("post.comment_count")},[we,o("span",{"ml-1":"","inline-flex":"",class:"waline-comment-count","data-path":t(s).path},null,8,be)],8,Ce)):c("v-if",!0)])):c("v-if",!0)}}),Pe=v({__name:"post",setup(g){const s=C(),e=q(),a=H(),u=k(()=>typeof e.value.sponsor=="boolean"?e.value.sponsor:s.value.sponsor.enable),d={"@type":"BlogPosting",headline:e.value.title,description:e.value.description,author:[{name:s.value.author.name,url:s.value.author.link}],datePublished:Y(e.value.date||""),dateModified:Y(e.value.updated||"")},p=e.value.image||e.value.cover;return p&&(d.image=p),E(I(d)),(r,_)=>{const l=Q,w=K,R=Ye,L=ge,M=fe,T=ie,B=z("RouterView");return n(),i(P,null,[r.$slots["sidebar-child"]?(n(),m(l,{key:0},{default:f(()=>[S(r.$slots,"sidebar-child")]),_:3})):(n(),m(l,{key:1})),$(B,null,{default:f(({Component:D})=>[(n(),m(O(D),null,{"main-header-after":f(()=>[$(w,{frontmatter:t(e)},null,8,["frontmatter"]),$(R),$(L,{frontmatter:t(e)},null,8,["frontmatter"])]),"main-content-after":f(()=>[u.value?(n(),m(M,{key:0,m:"t-6"})):c("v-if",!0),t(e).copyright||t(s).license.enabled?(n(),m(T,{key:1,url:t(a),m:"y-4"},null,8,["url"])):c("v-if",!0)]),"aside-custom":f(()=>[S(r.$slots,"aside-custom")]),_:2},1024))]),_:3})],64)}}});export{Pe as default};
